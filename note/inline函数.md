# 【C++学习】inline函数

参考：[C++中的inline](https://www.cnblogs.com/fnlingnzb-learner/p/6423917.html)

## 为什么会有inline函数

在c/c++中，为了解决一些频繁调用的小函数大量消耗栈空间（栈内存）的问题，特别的引入了`inline`修饰符，表示为内联函数。（当程序执行函数调用时，系统要建立栈空间，保护现场，传递参数以及控制程序执行的转移等等,这些工作需要系统时间和空间的开销）

栈空间就是指放置程序的局部数据（也就是函数内数据）的内存空间。在系统下，栈空间是有限的，假如频繁大量的使用就会造成因栈空间不足而导致程序出错的问题，如，函数的死循环递归调用的最终结果就是导致栈内存空间枯竭。

## inline函数的使用

当函数功能简单，使用频率很高，为了提高效率,直接将函数的代码嵌入到程序中。但这个办法有缺点，一是相同代码重复书写，二是程序可读性往往没有使用函数的好。
为了协调好效率和可读性之间的矛盾, C++提供 了另一种方法，即**定义内联函数**，<u>方法是在定义函数时用修饰词`inline`。</u>

```c++
intline bool IsNumber(char ch)

{

		return ch>='0'&&<='9'?1：0；

}
```

加`inline`关键字将函数改成内联函数，在编译期间编译器能够在调用点内联展开该函数。

**注意：**

（1）`inline`是一种以空间换时间的做法，省去调用函数额开销。但当函数体的代码过长或者是递归函数即便加上`inline`关键字，也不会在调用点以内联展开该函数。
（2）`inline`对于编译器而言只是一个建议，编译器会自动优化。
（3）`inline`不建议声明和定义分离,分离会导致链接错误。因为`inline`被展开， 就没有函数地址了，链接就会找不到。